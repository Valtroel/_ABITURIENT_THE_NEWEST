@startuml

title Алгаритмы выдачи рекомендаций

start
    :Получить из базы\nплан участка (как будет);
    :Получить из базы\nбазовый план участка (как есть);

fork
    :Найти новые постройки;
    :Добавить материалы\nдля постройки;
    :Добавить инструменты\nдля постройки\nесли ещё не добавили;
fork again
    :Найти новые и\nстарые зоны посадки;
    fork
        repeat
            :Добавить материалы\nдля организации зоны;
            :Добавить инструменты\nдля организации зоны\nесли ещё не добавили;
            :Добавить саженцы / рассаду\nдля зоны;
        repeat while (не рассмотрены все новые зоны?)
    fork again
        repeat
            if (посадки однолетние или новые?) then (да)
                : Добавить саженцы / рассаду\nдля зоны;
            endif
        repeat while (не рассмотрены все старые зоны?)
    end fork
end fork

    :Получить цены из Интернет-магазина;
    :Показать результаты пользователю;

stop

@enduml